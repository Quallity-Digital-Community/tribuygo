(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,t,a){},164:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(15),r=a.n(o),s=(a(103),a(14)),i=a(32),c=a(56),u=a.n(c),m=a(194),d=a(204),h=a(205),b=a(84),p=a(201),g=a(200),v=a(41),E=a(206),f=a(199),N=a(207),y=a(203),C=a(202),j=a(197),O=a(8),S=a.n(O),k=a(38),w=a.n(k),x=Object(m.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function B(){var e=l.a.useState(""),t=Object(v.a)(e,2),a=t[0],n=t[1],o=l.a.useState(""),r=Object(v.a)(o,2),s=r[0],i=r[1];var c=x();return l.a.createElement(j.a,{component:"main",maxWidth:"xs"},l.a.createElement("div",{className:c.paper},l.a.createElement(b.a,{component:"h1",variant:"h5"},"Sign in"),l.a.createElement("form",{className:c.form,noValidate:!0},l.a.createElement(E.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){return n(e.target.value)},value:a,autoFocus:!0}),l.a.createElement(E.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:s,onChange:function(e){return i(e.target.value)},autoComplete:"current-password"}),l.a.createElement(f.a,{control:l.a.createElement(N.a,{value:"remember",color:"primary"}),label:"Remember me"}),l.a.createElement(p.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:c.submit,onClick:function(e){e.preventDefault(),console.log(a),console.log(s);var t={email:a,password:s};S.a.post("/api/users/signIn",t).then((function(e){if(200===e.status){console.log(e.statusText);var t=e.data.roleId;4===t?(console.log("Super Admin logged in"),window.location.href="/register"):3===t&&(console.log(" user d: ",e.data),w.a.set("schoolId",e.data.schoolId),window.location.href="../school/schoolHome")}else 401===e.status&&console.log(e.data.msg)}))}},"Sign In"),l.a.createElement(C.a,{container:!0},l.a.createElement(C.a,{item:!0,xs:!0},l.a.createElement(y.a,{href:"#",variant:"body2"},"Forgot password?"))))))}var A=Object(m.a)((function(e){return{background:"#AF3024",root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),D={background:"#AF3024",IconButton:{height:80}};function R(){var e=A();return l.a.createElement(s.a,null,l.a.createElement("div",{className:e.root},l.a.createElement(d.a,{position:"static",style:D,title:l.a.createElement("img",{src:u.a,alt:"logo pic"})},l.a.createElement(h.a,null,l.a.createElement(g.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},l.a.createElement(s.b,{to:"/"},l.a.createElement("img",{src:u.a,style:D.IconButton,alt:"logo"}))),l.a.createElement(b.a,{variant:"h6",className:e.title}),l.a.createElement(s.b,{to:"/login"},l.a.createElement(p.a,{variant:"contained",color:"primary",className:e.button},"Login"))))),l.a.createElement(i.a,{exact:!0,path:"/login",component:B}))}var I=a(9),F=a(7),P=a(10),M=a(11),T=a(12),W=(a(27),a(54)),q=a.n(W),U=function(e){function t(){return Object(I.a)(this,t),Object(P.a)(this,Object(M.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.obj)}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"card col-md-6"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h2",{className:"card-title"}," Name : ",this.props.obj.name),l.a.createElement("h4",{className:"card-text"},"Bus Number :  ",this.props.obj.busId),l.a.createElement("h4",{className:"card-text"},"Address :",this.props.obj.address),l.a.createElement("p",{className:"card-text"},l.a.createElement(q.a,{value:this.props.obj.scanId}))))))}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(M.a)(t).call(this,e))).state={student:[]},a}return Object(T.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){var e=this;S.a.get("http://172.105.92.110:4000/getAllStudents").then((function(t){console.log(t.data),e.setState({student:t.data})})).catch((function(e){console.log(e)}))}},{key:"tabRow",value:function(){return this.state.student.map((function(e,t){return l.a.createElement(U,{obj:e,key:t})}))}},{key:"render",value:function(){return l.a.createElement("p",null,this.tabRow())}}]),t}(n.Component),H=a(5),_=(a(37),function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(M.a)(t).call(this,e))).onChangeName=a.onChangeName.bind(Object(H.a)(a)),a.onChangeMobile=a.onChangeMobile.bind(Object(H.a)(a)),a.onChangeClassrm=a.onChangeClassrm.bind(Object(H.a)(a)),a.onChangeAddress=a.onChangeAddress.bind(Object(H.a)(a)),a.onChangeBusNumber=a.onChangeBusNumber.bind(Object(H.a)(a)),a.onSubmit=a.onSubmit.bind(Object(H.a)(a)),a.state={name:"",classrm:"",mobile:"",address:"",busNumber:""},a}return Object(T.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){var e=this;S.a.get("http://172.105.92.110:4000/editStudent/"+this.props.match.params.id).then((function(t){e.setState({name:t.data.name,classrm:t.data.classrm,mobile:t.data.mobile,address:t.data.address,busNumber:t.data.busId}),console.log("Data sent is: ",t)})).catch((function(e){console.log(e)}))}},{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeClassrm",value:function(e){this.setState({classrm:e.target.value})}},{key:"onChangeMobile",value:function(e){this.setState({mobile:e.target.value})}},{key:"onChangeAddress",value:function(e){this.setState({address:e.target.value})}},{key:"onChangeBusNumber",value:function(e){this.setState({busNumber:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,classrm:this.state.classrm,mobile:this.state.mobile,address:this.state.address,busId:this.state.busNumber};console.log(t),S.a.post("http://172.105.92.110:4000/updateStudent/"+this.props.match.params.id,t).then((function(e){return console.log(e.data)})),this.setState({name:"",classrm:"",mobile:"",address:"",busNumber:""})}},{key:"render",value:function(){return l.a.createElement("div",{className:"container",style:{marginTop:1,padding:1}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{style:{width:350}},l.a.createElement("h6",null,"Update Student Informations : "),"Change Name:",l.a.createElement("input",{type:"text",style:{width:350},className:"form-control",value:this.state.name,onChange:this.onChangeName}),"Edit Class :",l.a.createElement("input",{type:"text",style:{width:350},className:"form-control",value:this.state.classrm,onChange:this.onChangeClassrm}),"Edit Contact Number:",l.a.createElement("input",{type:"text",style:{width:350},className:"form-control",value:this.state.mobile,onChange:this.onChangeMobile}),"Edit address:",l.a.createElement("input",{type:"text",style:{width:350},className:"form-control",value:this.state.address,onChange:this.onChangeAddress}),"Change Bus :",l.a.createElement("input",{type:"text",style:{width:350},className:"form-control",value:this.state.busNumber,onChange:this.onChangeBusNumber})),l.a.createElement("br",null),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"submit",value:"Change Student Information",className:"btn btn-primary "}))))))}}]),t}(n.Component)),Y=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(M.a)(t).call(this,e))).delete=a.delete.bind(Object(H.a)(a)),a.printStudent=a.printStudent.bind(Object(H.a)(a)),a}return Object(T.a)(t,e),Object(F.a)(t,[{key:"delete",value:function(){console.log("About to delete a Student"),S.a.get("http://172.105.92.110:4000/deleteStudent/"+this.props.obj.id).then(window.location.replace("/indexStudent")).catch((function(e){return console.log(e)}))}},{key:"printStudent",value:function(){console.log("Printing Student : ",this.props.obj.id),S.a.get("http://172.105.92.110:4000/printStudent/pdf/"+this.props.obj.id,{responseType:"arraybuffer",headers:{Accept:"application/pdf"}}).then((function(e){var t=new Blob([e.data],{type:"application/pdf"}),a=document.createElement("a");a.href=window.URL.createObjectURL(t),a.download="ID Card.pdf",a.click()})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(s.a,null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox"})),l.a.createElement("td",null,this.props.obj.name),l.a.createElement("td",null,this.props.obj.classrm),l.a.createElement("td",null,this.props.obj.mobile),l.a.createElement("td",null,this.props.obj.address),l.a.createElement("td",null,this.props.obj.busId),l.a.createElement("td",null,l.a.createElement(q.a,{value:this.props.obj.scanId})),l.a.createElement("td",null,l.a.createElement(s.b,{to:"/editStudent/"+this.props.obj.id,className:"btn btn-primary"},"Edit")),l.a.createElement("td",null,l.a.createElement("button",{onClick:this.printStudent,className:"btn btn-info"},"Print Card")),l.a.createElement("td",null,l.a.createElement("button",{onClick:this.delete,className:"btn btn-danger"},"Delete"))),l.a.createElement(i.c,null,l.a.createElement(i.a,{path:"/editStudent/:id",component:_})))}}]),t}(n.Component),G=a(83),Q=a.n(G),J=function(e){function t(){return Object(I.a)(this,t),Object(P.a)(this,Object(M.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){return l.a.createElement("option",{value:this.props.obj.id},this.props.obj.busNumber)}}]),t}(n.Component),z=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(M.a)(t).call(this,e))).onChangeQuery=function(e){a.setState({query:e.target.value})},a.validateName=function(){var e=a.state.name;a.setState({nameError:e.length>3?null:"Name must be longer than 3 characters"})},a.validateAddress=function(){var e=a.state.address;a.setState({addressError:e.length>3?null:"Address must be longer than 3 characters"})},a.validateMobile=function(){var e=a.state.mobile;a.setState({mobileError:e.length>9?null:"Mobile number must be correct"})},a.handleScriptLoad=function(){a.autocomplete=new google.maps.places.Autocomplete(document.getElementById("autocomplete"),{componentRestrictions:{country:"ae"}}),a.autocomplete.addListener("place_changed",a.handlePlaceSelect)},a.handlePlaceSelect=function(){var e=a.autocomplete.getPlace();e.address_components&&(console.log("Address Object: ",e),a.setState({query:e.description,geoCode:e.formatted_address}))},a.onChangeName=a.onChangeName.bind(Object(H.a)(a)),a.onChangeMobile=a.onChangeMobile.bind(Object(H.a)(a)),a.onChangeClassrm=a.onChangeClassrm.bind(Object(H.a)(a)),a.onChangeAddress=a.onChangeAddress.bind(Object(H.a)(a)),a.onChangeBusNumber=a.onChangeBusNumber.bind(Object(H.a)(a)),a.onChangeQuery=a.onChangeQuery.bind(Object(H.a)(a)),a.onSubmit=a.onSubmit.bind(Object(H.a)(a)),a.onChangeFile=a.onChangeFile.bind(Object(H.a)(a)),a.handleClick=a.handleClick.bind(Object(H.a)(a)),a.busOption=a.busOption.bind(Object(H.a)(a)),a.state={name:"",classrm:"",mobile:"",address:"",busNumber:[],query:"",nameError:"",addressError:"",mobileError:"",selectedFile:null,geoCode:"",busses:[]},a}return Object(T.a)(t,e),Object(F.a)(t,[{key:"onChangeName",value:function(e){var t=this;this.setState({name:e.target.value},(function(){t.validateName()}))}},{key:"onChangeClassrm",value:function(e){this.setState({classrm:e.target.value})}},{key:"onChangeMobile",value:function(e){var t=this;this.setState({mobile:e.target.value},(function(){t.validateMobile()}))}},{key:"onChangeAddress",value:function(e){var t=this;this.setState({address:e.target.value},(function(){t.validateAddress()}))}},{key:"onChangeBusNumber",value:function(e){this.setState({busNumber:e.target.value})}},{key:"componentDidMount",value:function(){var e=this;S.a.get("http://172.105.92.110:4000/getBusListTest").then((function(t){e.setState({busses:t.data})})).catch((function(e){console.log(e)}))}},{key:"onChangeFile",value:function(e){console.log(e.target.files[0]),this.setState({selectedFile:e.target.files[0],loaded:0})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),S.a.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:this.state.geoCode,key:"AIzaSyBgG9can04sw-SCdWIcWTgnD_rlUoiZaIk"}}).then((function(e){console.log(e),t.lat=e.data.results[0].geometry.location.lat,t.lng=e.data.results[0].geometry.location.lng})).then((function(e){console.log("Current value of street: ",t.state.query);var a={name:t.state.name,classrm:t.state.classrm,mobile:t.state.mobile,address:t.state.address,street:t.state.query,busId:t.state.busNumber,latitude:t.lat,longitude:t.lng};console.log("student sent: ",a),S.a.post("http://172.105.92.110:4000/addStudent",a).then(),t.setState({name:"",classrm:"",mobile:"",address:"",busNumber:"",query:""})})).catch((function(e){console.log(e)}))}},{key:"handleClick",value:function(e){e.preventDefault(),console.log("File being uploaded to server");var t=new FormData;t.append("file",this.state.selectedFile),S.a.post("http://localhost:4000/uploadStudent",t,{}).then((function(e){console.log(e.statusText,e.data)}))}},{key:"busOption",value:function(){return this.state.busses.map((function(e,t){return l.a.createElement(J,{obj:e,key:t})}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"container",style:{marginTop:1,padding:1}},l.a.createElement(Q.a,{url:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBgG9can04sw-SCdWIcWTgnD_rlUoiZaIk&libraries=places",onLoad:this.handleScriptLoad}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",null,l.a.createElement("h6",null,"Add New Student "),l.a.createElement("div",{id:"studentName"}," Enter Student Name :",l.a.createElement("input",{id:"name",type:"text",className:"form-control ".concat(this.state.nameError?"is-invalid":""),value:this.state.name,onChange:this.onChangeName,onBlur:this.validateName}),l.a.createElement("div",{className:"invalid-feedback"},this.state.nameError)),l.a.createElement("div",{id:"classRoom"},"   Add Class :",l.a.createElement("input",{type:"text",className:"form-control",value:this.state.classrm,onChange:this.onChangeClassrm})),l.a.createElement("div",{id:"contactNumber"},"Add Contact Number:",l.a.createElement("small",{id:"addressHelp",className:"form-text text-muted"},"Pl provide contact Number of Parent"),l.a.createElement("input",{type:"text",className:"form-control ".concat(this.state.mobileError?"is-invalid":""),value:this.state.mobile,onChange:this.onChangeMobile,onBlur:this.validateMobile}),l.a.createElement("div",{className:"invalid-feedback"},this.state.mobileError)),l.a.createElement("div",{id:"homeAddress"}," Add Home/Building:",l.a.createElement("small",{id:"addressHelp",className:"form-text text-muted"},"Write Home number or building name"),l.a.createElement("input",{id:"address",type:"text",className:"form-control ".concat(this.state.addressError?"is-invalid":""),value:this.state.address,onChange:this.onChangeAddress,onBlur:this.validateAddress}),l.a.createElement("div",{className:"invalid-feedback"},this.state.addressError)),l.a.createElement("div",{id:"street"},"   Select Street:",l.a.createElement("small",{id:"addressHelp",className:"form-text text-muted"},"Only select Street from suggestions shown. Please do not write address by yourself "),l.a.createElement("input",{id:"autocomplete",className:"form-control",value:this.state.query,onChange:this.onChangeQuery})),l.a.createElement("div",{id:"bus"},"   Select Bus :",l.a.createElement("select",{id:"busses",className:"select form-control",value:this.state.value,onChange:this.onChangeBusNumber},this.busOption()))),l.a.createElement("br",null),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"submit",value:"Register Student",className:"btn btn-primary "})))),l.a.createElement("form",{method:"post",action:"#",id:"#"},l.a.createElement("div",{className:"form-group files"},l.a.createElement("label",null,"Upload Your File "),l.a.createElement("input",{type:"file",className:"form-control",name:"file",onChange:this.onChangeFile,multiple:""})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"submit",value:"Upload File",className:"btn btn-success btn-block",onClick:this.handleClick})))))}}]),t}(n.Component),Z=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(M.a)(t).call(this,e))).state={students:[]},a}return Object(T.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){var e=this;S.a.get("api/students/getAllStudents").then((function(t){console.log(t.data),e.setState({students:t.data})})).catch((function(e){console.log(e)}))}},{key:"tabRow",value:function(){return this.state.students.map((function(e,t){return l.a.createElement(Y,{obj:e,key:t})}))}},{key:"printCards",value:function(){console.log("Printing all cards..."),S.a.get("http://172.105.92.110:4000/exportAll/pdf",{responseType:"arraybuffer",headers:{Accept:"application/pdf"}}).then((function(e){var t=new Blob([e.data],{type:"application/pdf"}),a=document.createElement("a");a.href=window.URL.createObjectURL(t),a.download="ID Cards.pdf",a.click()})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(s.a,null,l.a.createElement("div",null,l.a.createElement("h3",{align:"center"},"Student List"),l.a.createElement("button",{onClick:this.printCards,className:"btn btn-danger"}," Print Card for All Students "),l.a.createElement(s.b,{to:"/addStudent",className:"btn btn-primary btn-lg m-4"},"Add Student"),l.a.createElement("table",{className:"table table-striped",style:{marginTop:1}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null),l.a.createElement("th",null,"Student Name"),l.a.createElement("th",null,"Class Room"),l.a.createElement("th",null,"Contact Number"),l.a.createElement("th",null,"Address"),l.a.createElement("th",null,"Bus Number"),l.a.createElement("th",null,"Barcode"),l.a.createElement("th",{colSpan:"3"},"Action"))),l.a.createElement("tbody",null,this.tabRow()))),l.a.createElement(i.c,null,l.a.createElement(i.a,{path:"/pdfGenerate",component:L}),l.a.createElement(i.a,{exact:!0,path:"/addStudent",component:z})))}}]),t}(n.Component),V=a(59),$=a.n(V),K=function(e){function t(){return Object(I.a)(this,t),Object(P.a)(this,Object(M.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){return l.a.createElement("tr",null,l.a.createElement("td",null,this.props.obj.busNumber),l.a.createElement("td",null,this.props.obj.supervisorName),l.a.createElement("td",null,l.a.createElement($.a,{date:this.props.obj.createdAt,format:"DD/MM/YYYY"})),l.a.createElement("td",null,l.a.createElement($.a,{date:this.props.obj.createdAt,format:"HH:MM:SS"})))}}]),t}(n.Component),X=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(M.a)(t).call(this,e))).state={trips:[]},a}return Object(T.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){var e=this;S.a.get("http://172.105.92.110:4000/getAllTrips").then((function(t){e.setState({trips:t.data})})).catch((function(e){console.log(e)}))}},{key:"tabRow",value:function(){return console.log(this.state.trips),this.state.trips.map((function(e,t){return l.a.createElement(K,{obj:e,key:t})}))}},{key:"render",value:function(){return l.a.createElement(s.a,null,l.a.createElement("div",null,l.a.createElement("h3",{id:"tripsTable",align:"center"},"Trips Detail"),l.a.createElement("table",{className:"table table-striped",style:{marginTop:5}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null," Bus Number"),l.a.createElement("th",null,"Supervisor Name"),l.a.createElement("th",null,"Date "),l.a.createElement("th",null,"Time"))),l.a.createElement("tbody",null,this.tabRow()))),l.a.createElement(i.c,null))}}]),t}(n.Component),ee=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(M.a)(t).call(this,e))).state={student:[]},a}return Object(T.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("In print One with ID: "+this.props.match.params.id),S.a.get("http://172.105.92.110:4000/editStudent/"+this.props.match.params.id).then((function(t){console.log(t.data),e.setState({student:t.data})})).catch((function(e){console.log(e)}))}},{key:"tabRow1",value:function(){return l.a.createElement(U,{obj:this.state.student})}},{key:"render",value:function(){return l.a.createElement("p",null,this.tabRow1())}}]),t}(n.Component),te=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(M.a)(t).call(this,e))).state={schoolId:a.props.schoolId},a}return Object(T.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){return l.a.createElement(s.a,null,l.a.createElement("div",{className:"container"},l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(s.b,{to:"/",className:"nav-link"},"Home")),l.a.createElement("li",null,l.a.createElement(s.b,{to:"/indexBusRoute",className:"nav-link"},"Bus Routes")),l.a.createElement("li",null,l.a.createElement(s.b,{to:"/indexStudent",className:"nav-link"},"Students")),l.a.createElement("li",null,l.a.createElement(s.b,{to:"/indexSupervisor",className:"nav-link"},"Supervisors")),l.a.createElement("li",null,l.a.createElement(s.b,{to:"/indexParent",className:"nav-link"},"Parents")),l.a.createElement("li",null,l.a.createElement(s.b,{to:"/indexReport",className:"nav-link"},"Reports")))))," ",l.a.createElement("br",null)),l.a.createElement(i.a,{path:"/indexStudent",component:Z}),l.a.createElement(i.a,{path:"/indexReport",component:X}),l.a.createElement(i.a,{path:"/pdfGenerate",component:L}),l.a.createElement(i.a,{path:"/printOne/:id",component:ee}))}}]),t}(n.Component),ae=function(e){function t(e){var a;return Object(I.a)(this,t),a=Object(P.a)(this,Object(M.a)(t).call(this,e)),console.log(w.a.get("schoolId")),a}return Object(T.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){return l.a.createElement(s.a,null,l.a.createElement(n.Fragment,null,l.a.createElement(te,null)))}}]),t}(n.Component),ne=a(18);function le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var oe=Object(m.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function re(){var e=l.a.useState({}),t=Object(v.a)(e,2),a=t[0],n=t[1],o=l.a.useState(""),r=Object(v.a)(o,2),s=r[0],i=r[1],c=function(e){var t=e.target,l=t.name,o=t.value;n(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?le(a,!0).forEach((function(t){Object(ne.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):le(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a,Object(ne.a)({},l,o)))};var u=oe();return l.a.createElement("div",null,""!==s?l.a.createElement("div",{className:"alert alert-success"},s):l.a.createElement("div",null),l.a.createElement(j.a,{component:"main",maxWidth:"xs"},l.a.createElement("div",{className:u.paper},l.a.createElement(b.a,{component:"h1",variant:"h5"},"Register"),l.a.createElement("form",{className:u.form},l.a.createElement(E.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"school_name",label:"School Name",name:"schoolName",onChange:c,value:a.schoolName||""}),l.a.createElement(E.a,{variant:"outlined",margin:"normal",fullWidth:!0,name:"address",label:"Address",type:"text",id:"address",value:a.address||"",onChange:c,required:!0}),l.a.createElement(E.a,{variant:"outlined",margin:"normal",fullWidth:!0,name:"email",label:"Email Address",type:"email",id:"email",value:a.email||"",onChange:c,required:!0}),l.a.createElement(E.a,{variant:"outlined",margin:"normal",fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:a.password||"",onChange:c,required:!0}),l.a.createElement(E.a,{variant:"outlined",margin:"normal",fullWidth:!0,name:"mobileNumber",label:"Mobile No",type:"text",id:"mobile_no",value:a.mobileNumber||"",onChange:c,required:!0}),l.a.createElement(E.a,{variant:"outlined",margin:"normal",fullWidth:!0,name:"contactPerson",label:"Contact Person",type:"text",id:"contact_person",value:a.contactPerson||"",onChange:c,required:!0}),l.a.createElement(E.a,{variant:"outlined",margin:"normal",fullWidth:!0,name:"contactNumber",label:"School Phone Number",type:"text",id:"shcool_phone_number",value:a.contactNumber||"",onChange:c,required:!0}),l.a.createElement(p.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:u.submit,onClick:function(e){e.preventDefault(),a.roleId="3",console.log(JSON.stringify(a)),S.a.post("/api/schools/registerSchool",a).then((function(e){200===e.status&&(i("School sucessfully registered."),n({})),console.log(e)}))}},"Register New School"),l.a.createElement(C.a,{container:!0},l.a.createElement(C.a,{item:!0,xs:!0},l.a.createElement(y.a,{href:"#",variant:"body2"},"Forgot password?")))))))}function se(){return w.a.get("schoolId")}var ie=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(M.a)(t).call(this,e))).onChangeBusNumber=a.onChangeBusNumber.bind(Object(H.a)(a)),a.onSubmit=a.onSubmit.bind(Object(H.a)(a)),a.onChangeFile=a.onChangeFile.bind(Object(H.a)(a)),a.handleClick=a.handleClick.bind(Object(H.a)(a)),a.state={busNumber:"Bus ",selectedFile:null},a}return Object(T.a)(t,e),Object(F.a)(t,[{key:"onChangeBusNumber",value:function(e){this.setState({busNumber:e.target.value})}},{key:"onChangeFile",value:function(e){console.log(e.target.files[0]),this.setState({selectedFile:e.target.files[0],loaded:0})}},{key:"onSubmit",value:function(e){e.preventDefault(),console.log("bus number added with ",this.state.busNumber);var t={busNumber:this.state.busNumber,schoolId:se()};S.a.post("/api/busses/addBusRoute",t).then((function(e){window.location.href="/indexBusRoute"})).catch((function(e){})),this.setState({busNumber:""})}},{key:"handleClick",value:function(e){e.preventDefault(),console.log("File being uploaded to server");var t=new FormData;t.append("file",this.state.selectedFile),S.a.post("http://172.105.92.110:4000/uploadBus",t,{}).then((function(e){console.log(e.statusText,e.data)}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"container",style:{marginTop:5,padding:5}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",null,l.a.createElement("h6",null,"Add New Bus :  (e.g  Bus 1, Bus 2, etc) "),l.a.createElement("input",{type:"text",className:"form-control",value:this.state.busNumber,onChange:this.onChangeBusNumber})),l.a.createElement("br",null),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"submit",value:"Register Bus Route",className:"btn btn-primary "})))),l.a.createElement("form",{method:"post",action:"#",id:"#"},l.a.createElement("div",{className:"form-group files"},l.a.createElement("label",null,"Upload Your File "),l.a.createElement("input",{type:"file",className:"form-control",name:"file",onChange:this.onChangeFile,multiple:""})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"submit",value:"Upload File",className:"btn btn-success btn-block",onClick:this.handleClick})))))}}]),t}(n.Component),ce=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(M.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t={busNumber:a.state.busNumber};console.log(t),S.a.post("/api/busses/updateBus/"+a.props.match.params.id,t).then(window.location.href="/indexBusRoute"),a.setState({busNumber:""})},a.onChangeBusNumber=a.onChangeBusNumber.bind(Object(H.a)(a)),a.state={busNumber:""},a}return Object(T.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("In component Did Mount ",this.props.match.params.id),S.a.get("/api/busses/editBus/"+this.props.match.params.id).then((function(t){e.setState({busNumber:t.data.busNumber})})).catch((function(e){console.log(e)}))}},{key:"onChangeBusNumber",value:function(e){this.setState({busNumber:e.target.value})}},{key:"render",value:function(){return l.a.createElement("div",{className:"container",style:{marginTop:1,padding:1}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{style:{width:350}},l.a.createElement("h6",null,"Update Bus Informations : "),"Change BusNumber:",l.a.createElement("input",{type:"text",style:{width:350},className:"form-control",value:this.state.busNumber,onChange:this.onChangeBusNumber})),l.a.createElement("br",null),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"submit",value:"Change Bus Information",className:"btn btn-primary "}))))))}}]),t}(n.Component),ue=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(M.a)(t).call(this,e))).delete=a.delete.bind(Object(H.a)(a)),a}return Object(T.a)(t,e),Object(F.a)(t,[{key:"delete",value:function(){console.log("About to delete Bus: ",this.props.obj.busNumber),S.a.get("api/busses/deleteBus/"+this.props.obj.id).then(window.location.href="indexBusRoute").catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(s.a,null,l.a.createElement("tr",null,l.a.createElement("td",null,this.props.obj.busNumber),l.a.createElement("td",null,l.a.createElement(s.b,{to:"/editBus/"+this.props.obj.id,className:"btn btn-primary"},"Edit")),l.a.createElement("td",null,l.a.createElement("button",{onClick:this.delete,className:"btn btn-danger"},"Delete"))),l.a.createElement(i.c,null,l.a.createElement(i.a,{path:"/editBus/:id",component:ce})))}}]),t}(n.Component),me=function(e){function t(e){var a;return Object(I.a)(this,t),a=Object(P.a)(this,Object(M.a)(t).call(this,e)),console.log(se()),a.state={business:[]},a}return Object(T.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){var e=this;S.a.get("/api/busses/getBusListTest/"+se()).then((function(t){e.setState({business:t.data})})).catch((function(e){console.log(e)}))}},{key:"tabRow",value:function(){return this.state.business.map((function(e,t){return l.a.createElement(ue,{obj:e,key:t})}))}},{key:"render",value:function(){return l.a.createElement(s.a,null,l.a.createElement(te,null),l.a.createElement("div",null,l.a.createElement(s.b,{to:"/createBusRoute",className:"btn btn-primary btn-lg m-6"},"Add Bus Route")),l.a.createElement("div",null,l.a.createElement("h4",{align:"center"},"Buses List"),l.a.createElement("table",{className:"table table-striped",style:{marginTop:1}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Bus Number"),l.a.createElement("th",{colSpan:"2"},"Action"))),l.a.createElement("tbody",null,this.tabRow()))),l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/createBusRoute",component:ie})))}}]),t}(n.Component),de=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(M.a)(t).call(this,e))).onChangeName=a.onChangeName.bind(Object(H.a)(a)),a.onChangeEmail=a.onChangeEmail.bind(Object(H.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(H.a)(a)),a.onChangeMobile=a.onChangeMobile.bind(Object(H.a)(a)),a.onSubmit=a.onSubmit.bind(Object(H.a)(a)),a.onSubmit=a.onSubmit.bind(Object(H.a)(a)),a.state={name:"",email:"",password:"",mobile:""},a}return Object(T.a)(t,e),Object(F.a)(t,[{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onChangeMobile",value:function(e){this.setState({mobile:e.target.value})}},{key:"componentDidMount",value:function(){var e=this;S.a.get("/api/supervisors/editUser/"+this.props.match.params.id).then((function(t){e.setState({name:t.data.name,email:t.data.email,password:t.data.password,mobile:t.data.phone})})).catch((function(e){console.log(e)}))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,email:this.state.email,password:this.state.password,mobile:this.state.mobile};console.log(t),S.a.post("/api/supervisors/updateUser/"+this.props.match.params.id,t).then(window.location.href="/indexSupervisor"),this.setState({name:"",email:"",password:"",mobile:""})}},{key:"render",value:function(){return l.a.createElement("div",{className:"container",style:{marginTop:1,padding:5}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",null,l.a.createElement("h6",null,"Add New Supervisor "),"Change Name :",l.a.createElement("input",{type:"text",className:"form-control",value:this.state.name,onChange:this.onChangeName}),"Change Email:",l.a.createElement("input",{type:"text",className:"form-control",value:this.state.email,onChange:this.onChangeEmail}),"Change Password:",l.a.createElement("input",{type:"text",className:"form-control",value:this.state.password,onChange:this.onChangePassword}),"Change Contact Number :",l.a.createElement("input",{type:"text",className:"form-control",value:this.state.mobile,onChange:this.onChangeMobile})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"submit",value:"Change Supervisor",className:"btn btn-primary "}))))))}}]),t}(n.Component),he=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(M.a)(t).call(this,e))).delete=a.delete.bind(Object(H.a)(a)),a}return Object(T.a)(t,e),Object(F.a)(t,[{key:"delete",value:function(){console.log("About to delete Supervisor: ",this.props.obj.busNumber),S.a.get("api/supervisors/deleteSupervisor/"+this.props.obj.id).then(window.location.href="/indexSupervisor").catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(s.a,null,l.a.createElement("tr",null,l.a.createElement("td",null,this.props.obj.name),l.a.createElement("td",null,this.props.obj.email),l.a.createElement("td",null,this.props.obj.phone),l.a.createElement("td",null,l.a.createElement(s.b,{to:"/editSupervisor/"+this.props.obj.id,className:"btn btn-primary"},"Edit")),l.a.createElement("td",null,l.a.createElement("button",{onClick:this.delete,className:"btn btn-danger"},"Delete"))),l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/editSupervisor/:id",component:de})))}}]),t}(n.Component),be=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(M.a)(t).call(this,e))).onChangeName=a.onChangeName.bind(Object(H.a)(a)),a.onChangeEmail=a.onChangeEmail.bind(Object(H.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(H.a)(a)),a.onChangeMobile=a.onChangeMobile.bind(Object(H.a)(a)),a.onSubmit=a.onSubmit.bind(Object(H.a)(a)),a.onChangeFile=a.onChangeFile.bind(Object(H.a)(a)),a.handleClick=a.handleClick.bind(Object(H.a)(a)),a.state={name:"",email:"",password:"",mobile:"",selectedFile:null},a}return Object(T.a)(t,e),Object(F.a)(t,[{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onChangeMobile",value:function(e){this.setState({mobile:e.target.value})}},{key:"onChangeFile",value:function(e){console.log(e.target.files[0]),this.setState({selectedFile:e.target.files[0],loaded:0})}},{key:"onSubmit",value:function(e){e.preventDefault(),console.log(this.state.name,this.state.email,this.state.password,this.state.mobile);var t={name:this.state.name,email:this.state.email,password:this.state.password,mobile:this.state.mobile,schoolId:se()};console.log(t),S.a.post("/api/supervisors/registerSupervisor",t).then(window.location.href="/indexSupervisor"),this.setState({name:"",email:"",password:"",mobile:""})}},{key:"handleClick",value:function(e){e.preventDefault(),console.log("File being uploaded to server");var t=new FormData;t.append("file",this.state.selectedFile),S.a.post("http://172.105.92.110:4000/uploadSupervisor",t,{}).then((function(e){console.log(e.statusText,e.data)}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"container",style:{marginTop:1,padding:5}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",null,l.a.createElement("h6",null,"Add New Supervisor ")," Enter Supervisor Name :",l.a.createElement("input",{type:"text",className:"form-control",value:this.state.name,onChange:this.onChangeName}),"Add Email:                     ",l.a.createElement("input",{type:"text",className:"form-control",value:this.state.email,onChange:this.onChangeEmail}),"Add Password:                     ",l.a.createElement("input",{type:"text",className:"form-control",value:this.state.password,onChange:this.onChangePassword}),"Add Contact Number :                    ",l.a.createElement("input",{type:"text",className:"form-control",value:this.state.mobile,onChange:this.onChangeMobile})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"submit",value:"Register Supervisor",className:"btn btn-primary "})))),l.a.createElement("form",{method:"post",action:"#",id:"#"},l.a.createElement("div",{className:"form-group files"},l.a.createElement("label",null,"Upload Your File "),l.a.createElement("input",{type:"file",className:"form-control",name:"file",onChange:this.onChangeFile,multiple:""})),l.a.createElement("br",null),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"submit",value:"Upload File",className:"btn btn-success btn-block",onClick:this.handleClick})))))}}]),t}(n.Component),pe=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(M.a)(t).call(this,e))).state={business:[]},a}return Object(T.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){var e=this;S.a.get("/api/supervisors/getAllSupervisor/"+se()).then((function(t){e.setState({business:t.data})})).catch((function(e){console.log(e)}))}},{key:"tabRow",value:function(){return this.state.business.map((function(e,t){return l.a.createElement(he,{obj:e,key:t})}))}},{key:"render",value:function(){return l.a.createElement(s.a,null,l.a.createElement(te,null),l.a.createElement("div",null,l.a.createElement(s.b,{to:"/addSupervisor",className:"btn btn-primary btn-lg m-4"},"Add Supervisor"),l.a.createElement("h3",{align:"center"},"Supervisor List"),l.a.createElement("table",{className:"table table-striped",style:{marginTop:5}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null," Name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Contact Number"),l.a.createElement("th",{colSpan:"2"},"Action"))),l.a.createElement("tbody",null,this.tabRow()))),l.a.createElement(i.c,null,l.a.createElement(i.a,{path:"/addSupervisor",component:be})))}}]),t}(n.Component),ge=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(M.a)(t).call(this,e))).state={parents:[]},a}return Object(T.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){var e=this;S.a.get("/api/parents/getAllParent/"+se()).then((function(t){e.setState({parents:t.data})})).catch((function(e){console.log(e)}))}},{key:"tabRow",value:function(){return this.state.parents.map((function(e,t){return l.a.createElement(he,{obj:e,key:t})}))}},{key:"render",value:function(){return l.a.createElement(s.a,null,l.a.createElement(te,null),l.a.createElement("h3",{align:"center"},"Parent List"),l.a.createElement("table",{className:"table table-striped",style:{marginTop:5}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null," Name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Contact Number"),l.a.createElement("th",{colSpan:"2"},"Action"))),l.a.createElement("tbody",null,this.tabRow)))}}]),t}(n.Component);var ve=function(){return l.a.createElement(s.a,null,l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/",component:R}),l.a.createElement(i.a,{exact:!0,path:"/school/schoolHome",component:ae}),l.a.createElement(i.a,{exact:!0,path:"/register",component:re}),l.a.createElement(i.a,{exact:!0,path:"/indexSupervisor",component:Object(i.f)(pe)}),l.a.createElement(i.a,{exact:!0,path:"/indexBusRoute",component:Object(i.f)(me)}),l.a.createElement(i.a,{exact:!0,path:"/indexParent",component:ge})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},37:function(e,t,a){},56:function(e,t,a){e.exports=a.p+"static/media/logo.97e84a6d.svg"},98:function(e,t,a){e.exports=a(164)}},[[98,1,2]]]);
//# sourceMappingURL=main.91792ddf.chunk.js.map